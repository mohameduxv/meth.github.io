<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <meta name="format-detection" content="telephone=no"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="MobileOptimized" content="176"/>
    <meta name="HandheldFriendly" content="True"/>
    <meta name="robots" content="noindex,nofollow"/>
    <title>Yetie Land</title>
    <link rel="stylesheet" href="style/style.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&display=swap');
    </style>
    <script src="https://telegram.org/js/telegram-web-app.js?1"></script>
</head>
<body>
    <div id="info">
    <div id="user-info">
        <img src="sources/icon.png" alt="icon">
        <p id="user">username</p>
    </div>
        <button id="wallet"><img src="sources/wallet.png" alt="wallet"><p>connect wallet</p></button>
    </div>







    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
        // Function to update username
        function updateUsername() {
            const user = Telegram.WebApp.initDataUnsafe.user;
            console.log("User data:", user); // Debugging: log user data
            if (user) {
                document.getElementById('user').innerText = user.username || 'No Username';
            } else {
                document.getElementById('user').innerText = 'No User Data';
            }
        }

        // Ensure the Web App is ready before accessing user data
        Telegram.WebApp.ready(() => {
            console.log("Telegram WebApp is ready"); // Debugging: log when WebApp is ready
            updateUsername();
        });

        // Additional event listener to ensure the script runs when the DOM is fully loaded
        document.addEventListener('DOMContentLoaded', () => {
            console.log("DOM fully loaded and parsed"); // Debugging: log when DOM is loaded
            updateUsername();
        });
    </script>
    
</body>
</html>
